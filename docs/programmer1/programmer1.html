<!DOCTYPE html>
<html>
<head>
<title>Simple Programmer/Serial Board</title>
<meta name="author" content="Paul Campbell" >
<meta name="date" content="2013-09-26T23:20:45+1200" >
<meta name="copyright" content="Paul Campbell">
<meta name="keywords" content="">
<meta name="description" content="">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8">
<meta http-equiv="content-style-type" content="text/css">
<meta http-equiv="expires" content="0">
</head>
<body>
<h1>Simple Programmer/Serial Board</h1>
<h2>Change list</h2>
<ul>
<li>2nd Oct 2013 - Created
</ul>
<h2>Contents</h2>
<ul>
<li><a href="#intro">Introduction</a>
<li><a href="#connect">Hooking up Hardware</a>
<li><a href="#programming">Programming and Debugging</a>
<li><a href="#update">Updating the Software</a>
<li><a href="#downloads">Downloads</a>
</ul>

<a name="intro"><h2>Introduction</h2></a>

<p>Our programmer is a simple, cheap USB board</p>

<a href="dev_prog1.png"><img src="dev_prog1.jpg" width="400"></a>

<p>By default at power on it simply works as a serial connection, an escape sequence generated by the GUI software gets it into CC25xx programmer mode which changes the functional pinout:</p>

<a href="serial.png"><img src="serial.png" width="400"></a>

<a name="connect"><h2>Hooking up Hardware</h2></a>

<p>By default it acts as a simple serial

<p>The basic connector is a 3x2 header and either a ribbon cable or a 6-pin TAB-Connect cable and pin header. Connect the cable to the header shown below:</p>

<a href="connect.png"><img src="connect.jpg" width="400"></a>

<p>Make sure that the cable comes off the board pointing away from the USB connector - it should connect to the development board with no twists in the cable - pin 1 to pin 1.</p>

<p>By default the programmer will power any board that it's connected to - if for some reason you want to power your board from some other source you can disable this - on the bottom of the board under the area labelled "power jumper" above there is a trace between those two pins - use a modelling knife to carefully cut that trace to disconnect the power to the cable - if you like you can install a 2-pin header (not included)  in the two holes there and install a jumper  so you can enable and disable power to the cable at will.</p>


<a name="programming"><h2>Programming and Debugging</h2></a>

<p>The programmer is intended to be used with the programmer GUI 'ccload' - there is a section describing how to use the GUI <a href="http://www.moonbaseotago.com/cheaprf/programming.html#gui">in the programming document</a>.</p>

<a name="update"><h2>Updating the Software</h2></a>

<p>The firmware source is <a href="https://github.com/MoonbaseOtago/HBase">available on Github</a>.</p>

<p>Normally you shouldn't need to load your own firmware but if you want to play go ahead - to program your own firmware you'll need to load the <a href="http://dfu-programmer.sourceforge.net/">dfu-programmer</a> application (Linux users will likely find it already available to them from their existing repositories).</p>

<p>To load new code you first need to put the board into the firmware loading  mode:</p>

<a href="load.png"><img src="load.jpg" width="400"></a>

<p>Plug your programmer into a USB port, short the two 'D7' pins on the board, then short the two 'Reset' pins (I use two pairs of fine tweezers to do this) - the board is now in firmware reload mode, remove the reset short, taking care to keep the board powered on.  Once you've done this you need to erase the programmer's CPU:</p>

<pre>

	dfu-programmer at90usb162 erase

</pre>

<p> Then program it with new code using the command:<a/>

<pre>

	dfu-programmer at90usb162 flash Benito7g.hex

</pre>

<p>Now unplug your programmer and plug it back in, it will come up with the new firmware.</p>

<a name="downloads"><h2>Downloads</h2></a>

<p>Software and hardware designed can be downloaded from here:</p>
<ul>
<li><a href="https://github.com/MoonbaseOtago/HBase">Firmware source</a>
<li><a href="prog-schm.png">Schematic</a>
<li><a href="programmer8.0.sch">programmer8.0.sch</a> Eagle schematic
<li><a href="programmer8.0.brd">programmer8.0.brd</a> Eagle layout
</ul>

</body>
</html>
